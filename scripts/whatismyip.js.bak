// Description:
//  Public IP lookups with 
//
// Commands:
//  hal ip - lookup your current public IP address
//
// Author:
//  jonfairbanks

var publicIp = require('public-ip');

module.exports = function(robot) {  
    robot.respond(/ip/i, function(msg){
        publicIp.v4().then(ip => {
            if(ip){
                var message = "Your public IP is `" + ip + "`.";
                robot.send({room: msg.message.user.id}, message);
                msg.send("I've sent you a private message with your IP. Please check.");
            }
        });
    });
}